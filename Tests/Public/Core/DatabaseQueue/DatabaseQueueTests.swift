import XCTest
import GRDB

class DatabaseQueueTests: GRDBTestCase {

//    func testSwiftCompiler() {
//        // Here we test that Swift compiler compiles some various usages of
//        // DatabaseQueue.inDatabase { ... }
//        
//        assertNoError {
//            let dbQueue = DatabaseQueue()
//            try dbQueue.inDatabase { db in
//                try db.execute("CREATE TABLE foo (id INTEGER PRIMARY KEY")
//            }
//        }
//        
//        assertNoError {
//            let dbQueue = DatabaseQueue()
//            try dbQueue.inDatabase { db in
//                try db.execute("CREATE TABLE foo (id INTEGER PRIMARY KEY")
//                try db.execute("CREATE TABLE bar (id INTEGER PRIMARY KEY")
//            }
//        }
//        
//        assertNoError {
//            let dbQueue = DatabaseQueue()
//            // TODO: make it compile
//            try dbQueue.inDatabase { db in
//                try db.execute("CREATE TABLE foo (id INTEGER PRIMARY KEY")
//                return 1
//            }
//        }
//        
//        assertNoError {
//            let dbQueue = DatabaseQueue()
//            // TODO: make it compile
//            let x = try dbQueue.inDatabase { db in
//                try db.execute("CREATE TABLE foo (id INTEGER PRIMARY KEY")
//                return 1
//            }
//        }
//        
//        do {
//            let dbQueue = DatabaseQueue()
//            dbQueue.inDatabase { db in
//                let x = 1
//            }
//        }
//        
//        do {
//            let dbQueue = DatabaseQueue()
//            let x = dbQueue.inDatabase { db in
//                1
//            }
//        }
//        
//        do {
//            let dbQueue = DatabaseQueue()
//            dbQueue.inDatabase { db in
//                1
//            }
//        }
//        
//        do {
//            let dbQueue = DatabaseQueue()
//            // TODO: make it compile
//            let x = dbQueue.inDatabase { db in
//                let a = 1
//                let b = 2
//                return a + b
//            }
//        }
//        
//        do {
//            // TODO: make it compile
//            dbQueue.inDatabase { db in
//                let a = 1
//                let b = 2
//                return a + b
//            }
//        }
//    }
}
